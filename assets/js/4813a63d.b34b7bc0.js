(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[674],{236:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return u},metadata:function(){return o},toc:function(){return r},default:function(){return c}});var a=n(2122),l=n(9756),i=(n(7294),n(3905)),u={sidebar_position:2},o={unversionedId:"react-hook-api",id:"react-hook-api",isDocsHomePage:!1,title:"React Hook API",description:"useOutlet",source:"@site/docs/react-hook-api.md",sourceDirName:".",slug:"/react-hook-api",permalink:"/reconnect.js/docs/react-hook-api",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/react-hook-api.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/reconnect.js/docs/intro"},next:{title:"Primitive API",permalink:"/reconnect.js/docs/primitive-api"}},r=[{value:"useOutlet",id:"useoutlet",children:[]},{value:"useOutletSetter",id:"useoutletsetter",children:[]},{value:"useOutletDeclaration",id:"useoutletdeclaration",children:[]}],s={toc:r};function c(e){var t=e.components,n=(0,l.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"useoutlet"},"useOutlet"),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"setter")," for an outlet. It might create new outlet if ",(0,i.kt)("inlineCode",{parentName:"p"},"initialValue")," is passed. The signature is just like ",(0,i.kt)("inlineCode",{parentName:"p"},"React.useState"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"key")," can be anything, not limited to a ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),"."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"initialValue")," can be a callback function, which returns the actual value."),(0,i.kt)("li",{parentName:"ul"},"If the ",(0,i.kt)("inlineCode",{parentName:"li"},"initialValue")," is passed, ",(0,i.kt)("strong",{parentName:"li"},"Reconnect.js")," allows creating new outlet by calling ",(0,i.kt)("inlineCode",{parentName:"li"},"getNewOutlet()"),". Otherwise, it calls ",(0,i.kt)("inlineCode",{parentName:"li"},"getOutlet()")," to retrieve existing one."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"setter")," returned from this API can also accept a callback as input. And if so, it will call it to retrieve the actual value."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"options")," can be used to control advanced behavior for the outlet object. Normally we won't need to pass it. You can see ",(0,i.kt)("inlineCode",{parentName:"li"},"getNewOutlet")," API for more detail about the ",(0,i.kt)("inlineCode",{parentName:"li"},"options"),".")),(0,i.kt)("h4",{id:"signature"},"Signature"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"declare function useOutlet<T>(\n  key: any,\n  initialValue?: initialValueOrGetter<T>,\n  options?: OutletOptions,\n): [T, (value: nextValueOrGetter<T>) => void];\n")),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("p",null,"Use a new outlet:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function Add() {\n  const [value, setValue] = useOutlet('add', 0);\n  return <button onClick={() => setValue(value + 1)}>+1</button>;\n}\n")),(0,i.kt)("p",null,"Use an already existed outlet:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function Add() {\n  const [value, setValue] = useOutlet('add');\n  return <button onClick={() => setValue(value + 1)}>+1</button>;\n}\n")),(0,i.kt)("h3",{id:"useoutletsetter"},"useOutletSetter"),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"setter")," for an outlet. When your component only need the setter rather than the value backed by the outlet, use this API to avoid your component from re-rendering due to the value changes."),(0,i.kt)("h4",{id:"signature-1"},"Signature"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"declare function useOutletSetter<T>(\n  key: any,\n): (value: nextValueOrGetter<T>) => void;\n")),(0,i.kt)("h4",{id:"example-1"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function ResetValue() {\n  const setValue = useOutletSetter('add');\n  return <button onClick={() => setValue(0)}>RESET</button>;\n}\n")),(0,i.kt)("h3",{id:"useoutletdeclaration"},"useOutletDeclaration"),(0,i.kt)("p",null,"Declare an outlet without using its value and setter. If the outlet doesn't exist yet, create it."),(0,i.kt)("p",null,"It's useful when you want to declare an outlet for your child components, but the root component itself doesn't need either value and setter, so when the value is changed, the root component won't re-render."),(0,i.kt)("h4",{id:"signature-2"},"Signature"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"declare function useOutletDeclaration<T>(\n  key: any,\n  initialValue: initialValueOrGetter<T>,\n): void;\n")),(0,i.kt)("h4",{id:"example-2"},"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function App() {\n  useOutletDeclaration('add', 0);\n\n  return (\n    <div style={{padding: 10}}>\n      <Value />\n      <Add />\n    </div>\n  );\n}\n\nfunction Add() {\n  const [value, setValue] = useOutlet('add');\n  return <button onClick={() => setValue(value + 1)}>+1</button>;\n}\n\nfunction Value() {\n  const [value] = useOutlet('add');\n  return <h1>{value}</h1>;\n}\n")))}c.isMDXComponent=!0}}]);